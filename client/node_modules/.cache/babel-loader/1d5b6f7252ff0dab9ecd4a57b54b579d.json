{"ast":null,"code":"var _jsxFileName = \"/Users/wendy/Documents/IRONHACK/MODULE-3/Projet-3-HelpMate/help-mate-client/client/src/views/AdsDisplayed.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport APIHandler from \"../../src/api/APIHandler\";\nimport PreviewAd from \"../components/ad/PreviewAd\";\nimport Map from \"../components/map/Map\";\nimport { LoadScript } from \"@react-google-maps/api\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faMapMarkedAlt } from \"@fortawesome/free-solid-svg-icons\";\n;\nexport default function AdsDisplayed() {\n  const [ads, setAds] = useState([]);\n  const [locations, setLocations] = useState([]);\n  const [toggleMap, setToggleMap] = useState(false);\n\n  const displayMap = () => {\n    setToggleMap(!toggleMap);\n  };\n\n  useEffect(() => {\n    APIHandler.get(\"/ads\").then(apiRes => setAds(apiRes.data)).catch(err => console.error(err));\n  }, []);\n  useEffect(() => {\n    const locationsArray = ads.map((ad, i) => ad.location.coordinates);\n    setLocations(locationsArray);\n  }, [ads]);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, \"Toutes les annonces\"), React.createElement(\"div\", {\n    class: \"tabs is-centered\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    class: \"is-active\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"Bricolage\")), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \"Visites\")), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Courses\")), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Free Hugs\")), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(FontAwesomeIcon, {\n    onClick: displayMap,\n    className: \"is-hoverable\",\n    icon: faMapMarkedAlt,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  })))), React.createElement(\"div\", {\n    className: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(LoadScript, {\n    id: \"script-loader\",\n    googleMapsApiKey: process.env.REACT_APP_GOOGLE_APIKEY,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, toggleMap && React.createElement(Map, {\n    locations: locations,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  })), Boolean(ads.length) ? ads.map((ad, i) => React.createElement(PreviewAd, {\n    data: ad,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  })) : React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Aucune annonce...\")));\n}","map":{"version":3,"sources":["/Users/wendy/Documents/IRONHACK/MODULE-3/Projet-3-HelpMate/help-mate-client/client/src/views/AdsDisplayed.jsx"],"names":["React","useEffect","useState","APIHandler","PreviewAd","Map","LoadScript","FontAwesomeIcon","faMapMarkedAlt","AdsDisplayed","ads","setAds","locations","setLocations","toggleMap","setToggleMap","displayMap","get","then","apiRes","data","catch","err","console","error","locationsArray","map","ad","i","location","coordinates","process","env","REACT_APP_GOOGLE_APIKEY","Boolean","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState} from \"react\";\nimport APIHandler from \"../../src/api/APIHandler\";\nimport PreviewAd from \"../components/ad/PreviewAd\";\nimport Map from \"../components/map/Map\";\nimport { LoadScript } from \"@react-google-maps/api\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faMapMarkedAlt} from \"@fortawesome/free-solid-svg-icons\";\n\n;export default function AdsDisplayed() {\n  const [ads, setAds] = useState([]);\n  const [locations, setLocations] = useState([]);\n  const [toggleMap, setToggleMap] = useState(false);\n \n  const displayMap = ()=> {\n    setToggleMap(!toggleMap)\n  }\n  useEffect(()=>{\n    APIHandler.get(\"/ads\")\n      .then(apiRes => setAds(apiRes.data))\n      .catch(err => console.error(err))\n  }, [])\n\n  useEffect(()=>{\n    const locationsArray = ads.map((ad, i)=>(ad.location.coordinates))\n    setLocations(locationsArray)\n  }, [ads])\n \n  return (\n    <div>\n      <h1 className=\"title\">Toutes les annonces</h1>\n        <div class=\"tabs is-centered\">\n          <ul>\n            <li class=\"is-active\">\n              <a>Bricolage</a>\n            </li>\n            <li>\n              <a>Visites</a>\n            </li>\n            <li>\n              <a>Courses</a>\n            </li>\n            <li>\n              <a>Free Hugs</a>\n            </li>\n            <li>\n            <FontAwesomeIcon\n        onClick={displayMap}\n        className=\"is-hoverable\"\n        icon={faMapMarkedAlt}/>\n            </li>\n          </ul>\n        </div>\n        <div className>\n        <LoadScript\n        id=\"script-loader\"\n        googleMapsApiKey={process.env.REACT_APP_GOOGLE_APIKEY}\n        >\n        {toggleMap && <Map locations={locations} />}\n        </LoadScript>\n        {Boolean(ads.length) ? (\n          ads.map((ad, i) => <PreviewAd data={ad} />)\n        ) : (\n          <p>Aucune annonce...</p>\n        )}\n        </div>\n    </div>\n  )\n}\n\n"]},"metadata":{},"sourceType":"module"}