{"ast":null,"code":"var _jsxFileName = \"/Users/wendy/Documents/IRONHACK/MODULE-3/Projet-3-HelpMate/help-mate-client/client/src/views/MesMessages.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport DisplayMessages from \"../components/messages/DisplayMessages\";\nimport PostMessage from \"../components/messages/PostMessage\";\nimport MesConv from \"../components/messages/MesConv\";\nimport APIHandler from \"../api/APIHandler\";\nimport { useAuth } from \"../auth/useAuth\";\nexport default function Conversation({\n  match\n}) {\n  const {\n    isLoading,\n    currentUser\n  } = useAuth();\n  console.log('curentUser', currentUser); // const [messages, setMessages] = useState([])\n\n  const [conversations, setConversations] = useState([]); // const [text, setText] = useState(\"\")\n  // const [newMsg, setNewMsg] = useState(false)\n  // const [user, setUser] = useState(false)\n  // const textarea = React.createRef();\n  // useEffect(()=>{\n  //     APIHandler.get(`/messages/${match.params.to_id}`)\n  //     .then(apiRes => setMessages(apiRes.data))\n  //     .catch()\n  // },[newMsg])\n\n  useEffect(() => {\n    console.log('héhooo');\n    APIHandler.get(`/messages/all/${currentUser._id}`).then(apiRes => {\n      console.log('yoooooo');\n      setConversations(apiRes.data);\n    }).catch();\n  }, [currentUser]);\n  return React.createElement(\"div\", {\n    className: \"conversation-page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(MesConv, {\n    currentUser: currentUser,\n    conversations: conversations,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }));\n}","map":{"version":3,"sources":["/Users/wendy/Documents/IRONHACK/MODULE-3/Projet-3-HelpMate/help-mate-client/client/src/views/MesMessages.jsx"],"names":["React","useState","useEffect","DisplayMessages","PostMessage","MesConv","APIHandler","useAuth","Conversation","match","isLoading","currentUser","console","log","conversations","setConversations","get","_id","then","apiRes","data","catch"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA0C,OAA1C;AACA,OAAOC,eAAP,MAA4B,wCAA5B;AACA,OAAOC,WAAP,MAAwB,oCAAxB;AACA,OAAOC,OAAP,MAAoB,gCAApB;AACA,OAAOC,UAAP,MAAuB,mBAAvB;AACA,SAASC,OAAT,QAAwB,iBAAxB;AAEA,eAAe,SAASC,YAAT,CAAsB;AAACC,EAAAA;AAAD,CAAtB,EAA+B;AAE1C,QAAM;AAAEC,IAAAA,SAAF;AAAaC,IAAAA;AAAb,MAA6BJ,OAAO,EAA1C;AACAK,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BF,WAA1B,EAH0C,CAI1C;;AACA,QAAM,CAACG,aAAD,EAAgBC,gBAAhB,IAAoCd,QAAQ,CAAC,EAAD,CAAlD,CAL0C,CAM1C;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAEAC,EAAAA,SAAS,CAAC,MAAI;AACVU,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAP,IAAAA,UAAU,CAACU,GAAX,CAAgB,iBAAgBL,WAAW,CAACM,GAAI,EAAhD,EACCC,IADD,CACMC,MAAM,IAAI;AACZP,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAE,MAAAA,gBAAgB,CAACI,MAAM,CAACC,IAAR,CAAhB;AAA8B,KAHlC,EAICC,KAJD;AAKH,GAPQ,EAOP,CAACV,WAAD,CAPO,CAAT;AASA,SACI;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,oBAAC,OAAD;AAAS,IAAA,WAAW,EAAGA,WAAvB;AAAoC,IAAA,aAAa,EAAEG,aAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,CADJ;AAKH","sourcesContent":["import React , {useState, useEffect} from 'react'\nimport DisplayMessages from \"../components/messages/DisplayMessages\";\nimport PostMessage from \"../components/messages/PostMessage\";\nimport MesConv from \"../components/messages/MesConv\";\nimport APIHandler from \"../api/APIHandler\";\nimport { useAuth } from \"../auth/useAuth\";\n\nexport default function Conversation({match}) {\n\n    const { isLoading, currentUser } = useAuth();\n    console.log('curentUser', currentUser )\n    // const [messages, setMessages] = useState([])\n    const [conversations, setConversations] = useState([])\n    // const [text, setText] = useState(\"\")\n    // const [newMsg, setNewMsg] = useState(false)\n    // const [user, setUser] = useState(false)\n    // const textarea = React.createRef();\n\n    // useEffect(()=>{\n    //     APIHandler.get(`/messages/${match.params.to_id}`)\n    //     .then(apiRes => setMessages(apiRes.data))\n    //     .catch()\n    // },[newMsg])\n\n    useEffect(()=>{\n        console.log('héhooo')\n        APIHandler.get(`/messages/all/${currentUser._id}`)\n        .then(apiRes => {\n            console.log('yoooooo');\n            setConversations(apiRes.data)})\n        .catch()\n    },[currentUser])\n\n    return (\n        <div className='conversation-page'>\n        <MesConv currentUser= {currentUser} conversations={conversations} />\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}